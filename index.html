<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DOLAPHUB | Mobilya Teklif Sistemi</title>
    
    <!-- 1. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. React & ReactDOM -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <!-- 3. Babel -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <!-- 4. FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; background-color: #FAFAFA; }
        * { -webkit-tap-highlight-color: transparent; }
        .italic-hub { font-style: italic; letter-spacing: -0.02em; }
        @media print { .print-hidden { display: none !important; } }
        
        /* Yükleme Ekranı Spinner */
        #loader {
            position: fixed; inset: 0; background: white; z-index: 10000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .spinner {
            width: 40px; height: 40px; border: 4px solid #f3f3f3;
            border-top: 4px solid #000; border-radius: 50%;
            animation: spin 1s linear infinite; margin-bottom: 15px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <!-- SAFE BOOT YÜKLEME EKRANI -->
    <div id="loader">
        <div class="spinner"></div>
        <p style="font-size: 12px; font-weight: bold; color: #999; letter-spacing: 2px;">SİSTEM BAŞLATILIYOR...</p>
    </div>

    <div id="root"></div>

    <!-- HATA YAKALAYICI -->
    <script>
        window.onerror = function(msg, url, line) {
            console.error("HATA:", msg);
            // Mobilde sessiz kalıp uygulamayı bozmaması için return false
            return false; 
        };
    </script>

    <!-- VERİ VE MANTIK DOSYALARI (Sırayla Yüklenir) -->
    <script src="js/data.js?v=33"></script>
    <script src="js/logic.js?v=33"></script>

    <!-- SAFE BOOT SCRIPT (En Önemli Kısım) -->
    <script>
        function checkDependencies() {
            if (window.APP_DATA && window.APP_LOGIC && window.React) {
                console.log("Bağımlılıklar hazır, App başlatılıyor...");
                
                // Loader'ı kaldır
                document.getElementById('loader').style.display = 'none';
                
                // App.js dosyasını manuel olarak ekle ve çalıştır
                var script = document.createElement('script');
                script.type = 'text/babel';
                script.src = 'js/app.js?v=33'; // Cache busting
                document.body.appendChild(script);
            } else {
                console.log("Bağımlılıklar bekleniyor...");
                setTimeout(checkDependencies, 100); // 100ms sonra tekrar dene
            }
        }
        
        // Kontrolü başlat
        checkDependencies();
    </script>
</body>
</html>
